<VirtualHost *:80>
  # Basic setup
  ServerName maquetas3.home
  DocumentRoot /var/www/adma/maquetas3
  DirectoryIndex index.php
    
  <Directory /var/www/adma/maquetas3>
    Order Deny,Allow
    #Deny from all
    #Allow from 192.168.0
    Allow from all
    #Don't show indexes for directories
    Options +Indexes +FollowSymLinks +ExecCGI
    AllowOverride All
    Require all granted
  </Directory> 

  ErrorLog ${APACHE_LOG_DIR}/error_maq3.log
  CustomLog ${APACHE_LOG_DIR}/error_maq3.log combined
  #
</VirtualHost>

<VirtualHost *:80>
  # Basic setup
  ServerName arenols.home
  DocumentRoot /var/www/adma/webs/arenols.com/public
  DirectoryIndex index.php
    
  <Directory /var/www/adma/webs/arenols.com/public>
    Order Deny,Allow
    #Deny from all
    #Allow from 192.168.0
    Allow from all
    #Don't show indexes for directories
    Options +Indexes +FollowSymLinks +ExecCGI
    AllowOverride All
    Require all granted
  </Directory> 

  ErrorLog ${APACHE_LOG_DIR}/error_arenols.log
  CustomLog ${APACHE_LOG_DIR}/error_arenols.log combined
  #
</VirtualHost>

<VirtualHost *:80>
  # Basic setup
  ServerName zonasql.home
  DocumentRoot /var/www/adma/webs/zonasql.com/public
  DirectoryIndex index.php
    
  <Directory /var/www/adma/webs/zonasql.com/public>
    Order Deny,Allow
    #Deny from all
    #Allow from 192.168.0
    Allow from all
    #Don't show indexes for directories
    Options +Indexes +FollowSymLinks +ExecCGI
    AllowOverride All
    Require all granted
  </Directory> 

  # # Set header uniqueid de la variable de entorno UNIQUE_ID
  # RequestHeader set uniqueid %{UNIQUE_ID}e

  # # Log de errores personalizado con trace_id
  # ErrorLogFormat "[%{cu}t] [%-m:%-l] %E: [client\ %a] [unique_id: %L] %M% ,\ referer\ %{Referer}i"
  # ErrorLog ${APACHE_LOG_DIR}/error_zonasql.log

  # # Log de acceso con el trace id al final
  # LogFormat "%h %l %u %t \"%r\" %>s %b \"%{Referer}i\" \"%{User-Agent}i\" %L" combined_with_trace
  # CustomLog ${APACHE_LOG_DIR}/access_zonasql.log combined_with_trace

  Header set X-Trace-Id "%{UNIQUE_ID}e"

  # --- Log de errores personalizado con trace_id ---
  ErrorLog ${APACHE_LOG_DIR}/error_zonasql.log
  ErrorLogFormat "[%t] [pid %P:tid %T] [client %{REMOTE_ADDR}e] [%{UNIQUE_ID}e] %M"

  # --- Log de acceso con el trace id (funciona también si 200 OK) ---
  LogFormat "%h %l %u %t \"%r\" %>s %b \"%{Referer}i\" \"%{User-Agent}i\" - %{UNIQUE_ID}e" combined_with_trace
  CustomLog ${APACHE_LOG_DIR}/access_zonasql.log combined_with_trace

  #
</VirtualHost>

<VirtualHost *:80>
  # Basic setup
  ServerName netold.home
  DocumentRoot /var/www/adma/actualWebs/netveloper/ci_web/webroot
  DirectoryIndex index.php
    
  <Directory /var/www/adma/actualWebs/netveloper/ci_web/webroot>
    Order Deny,Allow
    #Deny from all
    #Allow from 192.168.0
    Allow from all
    #Don't show indexes for directories
    Options +Indexes +FollowSymLinks +ExecCGI
    AllowOverride All
    Require all granted
  </Directory> 

  ErrorLog ${APACHE_LOG_DIR}/error_zonasql.log
  CustomLog ${APACHE_LOG_DIR}/error_zonasql.log combined
  #
</VirtualHost>


<VirtualHost *:80>
  # Basic setup
  ServerName nenuro.home
  DocumentRoot /var/www/adma/webs/nenuro.com/public
  DirectoryIndex index.php
    
  <Directory /var/www/adma/webs/nenuro.com/public>
    Order Deny,Allow
    #Deny from all
    #Allow from 192.168.0
    Allow from all
    #Don't show indexes for directories
    Options +Indexes +FollowSymLinks +ExecCGI
    AllowOverride All
    Require all granted
  </Directory> 

  ErrorLog ${APACHE_LOG_DIR}/error_nenuro.log
  CustomLog ${APACHE_LOG_DIR}/error_nenuro.log combined
  #
</VirtualHost>


<VirtualHost *:80>
  # Basic setup
  ServerName test-tracer.home
  DocumentRoot /var/www/adma/articulos/http-tracer
  DirectoryIndex index.php
    
  <Directory /var/www/adma/articulos/http-tracer>
    Order Deny,Allow
    #Deny from all
    #Allow from 192.168.0
    Allow from all
    #Don't show indexes for directories
    Options +Indexes +FollowSymLinks +ExecCGI
    AllowOverride All
    Require all granted
  </Directory> 

  # Set header uniqueid de la variable de entorno UNIQUE_ID
  Header set X-Trace-Id "%{UNIQUE_ID}e"

  # --- Log de errores personalizado con trace_id ---
  ErrorLog ${APACHE_LOG_DIR}/error_netveloper.log
  ErrorLogFormat "[%t] [pid %P:tid %T] [client %{REMOTE_ADDR}e] [%{UNIQUE_ID}e] %M"

  # --- Log de acceso con el trace id (funciona también si 200 OK) ---
  LogFormat "%h %l %u %t \"%r\" %>s %b \"%{Referer}i\" \"%{User-Agent}i\" - %{UNIQUE_ID}e" combined_with_trace
  CustomLog ${APACHE_LOG_DIR}/access_netveloper.log combined_with_trace
  #
</VirtualHost>


<VirtualHost *:80>
  # Basic setup
  ServerName aleteiadb.home
  DocumentRoot /var/www/adma/webs/aletheia/public
  DirectoryIndex index.php
    
  <Directory /var/www/adma/webs/aletheia/public>
    Order Deny,Allow
    #Deny from all
    #Allow from 192.168.0
    Allow from all
    #Don't show indexes for directories
    Options +Indexes +FollowSymLinks +ExecCGI
    AllowOverride All
    Require all granted
  </Directory> 

  ErrorLog ${APACHE_LOG_DIR}/error_aletheiadb.log
  CustomLog ${APACHE_LOG_DIR}/access_aletheiadb.log combined
  #
</VirtualHost>